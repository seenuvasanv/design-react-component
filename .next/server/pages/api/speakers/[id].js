/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(function() {
var exports = {};
exports.id = "pages/api/speakers/[id]";
exports.ids = ["pages/api/speakers/[id]"];
exports.modules = {

/***/ "./pages/api/speakers/[id].js":
/*!************************************!*\
  !*** ./pages/api/speakers/[id].js ***!
  \************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ handler; }\n/* harmony export */ });\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_1__);\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n\nconst {\n  promisify\n} = __webpack_require__(/*! util */ \"util\");\n\nconst readFile = promisify((fs__WEBPACK_IMPORTED_MODULE_1___default().readFile));\nconst writeFile = promisify((fs__WEBPACK_IMPORTED_MODULE_1___default().writeFile));\n\nconst delay = ms => new Promise(resolve => setTimeout(resolve, ms));\n\nasync function handler(req, res) {\n  const method = req === null || req === void 0 ? void 0 : req.method;\n  const id = parseInt(req === null || req === void 0 ? void 0 : req.query.id);\n  const recordFromBody = req === null || req === void 0 ? void 0 : req.body;\n  const jsonFile = path__WEBPACK_IMPORTED_MODULE_0___default().resolve('./', 'db.json');\n\n  const putMethod = async () => {\n    try {\n      const readFileData = await readFile(jsonFile);\n      await delay(1000);\n      const speakers = JSON.parse(readFileData).speakers;\n\n      if (!speakers) {\n        res.status(404).send('File not found on server');\n      } else {\n        const newSpeakersArray = speakers.map(rec => rec.id === id ? recordFromBody : rec);\n        await writeFile(jsonFile, JSON.stringify({\n          speakers: newSpeakersArray\n        }, null, 2));\n        res.setHeader('Content-Type', 'application/json');\n        res.status(200).send(JSON.stringify(speakers, null, 2));\n        console.log(`PUT /api/speakers/${id} status: 200`);\n      }\n    } catch (e) {\n      console.log('Error ,', e);\n      res.status(500).send(`PUT /api/speakers/${id} status: 500 unexpected error`);\n    }\n  };\n\n  const deleteMethod = async () => {\n    try {\n      const readFileData = await readFile(jsonFile);\n      await delay(1000);\n      const speakers = JSON.parse(readFileData).speakers;\n\n      if (!speakers) {\n        res.status(404).send('File not found on server');\n      } else {\n        const newSpeakersArray = speakers.filter(rec => rec.id !== id);\n        await writeFile(jsonFile, JSON.stringify({\n          speakers: newSpeakersArray\n        }, null, 2));\n        res.setHeader('Content-Type', 'application/json');\n        res.status(200).send(JSON.stringify(speakers, null, 2));\n        console.log(`DELETE /api/speakers/${id} status: 200`);\n      }\n    } catch (e) {\n      console.log('Error ,', e);\n      res.status(500).send(`DELETE /api/speakers/${id} status: 500 unexpected error`);\n    }\n  };\n\n  const postMethod = async () => {\n    try {\n      const readFileData = await readFile(jsonFile);\n      await delay(1000);\n      const speakers = JSON.parse(readFileData).speakers;\n\n      if (!speakers) {\n        res.status(404).send('File not found on server');\n      } else {\n        const newId = speakers.reduce((acc, cur) => {\n          const curId = parseInt(cur.id);\n          return acc > curId ? acc : curId;\n        }, 0);\n\n        const newSpeakerRec = _objectSpread(_objectSpread({}, recordFromBody), {}, {\n          id: newId.toString()\n        });\n\n        const newSpeakersArray = [newSpeakerRec, ...speakers];\n        await writeFile(jsonFile, JSON.stringify({\n          speakers: newSpeakersArray\n        }, null, 2));\n        res.setHeader('Content-Type', 'application/json');\n        res.status(200).send(JSON.stringify(speakers, null, 2));\n        console.log(`PUT /api/speakers/${id} status: 200`);\n      }\n    } catch (e) {\n      console.log('Error ,', e);\n      res.status(500).send(`POST /api/speakers/${id} status: 500 unexpected error`);\n    }\n  };\n\n  switch (method) {\n    case \"POST\":\n      await postMethod();\n      break;\n\n    case \"PUT\":\n      await putMethod();\n      break;\n\n    case \"DELETE\":\n      await deleteMethod();\n      break;\n\n    default:\n      console.log(`Method ${method} not implemented`);\n      res.status(501).send(`Method ${method} not implemented`);\n      break;\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kZXNpZ25pbmctcmVhY3QtY29tcG9uZW50cy1wbHVyYWxzaWdodC1jb3Vyc2UvLi9wYWdlcy9hcGkvc3BlYWtlcnMvW2lkXS5qcz84MzIzIl0sIm5hbWVzIjpbInByb21pc2lmeSIsInJlcXVpcmUiLCJyZWFkRmlsZSIsImZzIiwid3JpdGVGaWxlIiwiZGVsYXkiLCJtcyIsIlByb21pc2UiLCJyZXNvbHZlIiwic2V0VGltZW91dCIsImhhbmRsZXIiLCJyZXEiLCJyZXMiLCJtZXRob2QiLCJpZCIsInBhcnNlSW50IiwicXVlcnkiLCJyZWNvcmRGcm9tQm9keSIsImJvZHkiLCJqc29uRmlsZSIsInBhdGgiLCJwdXRNZXRob2QiLCJyZWFkRmlsZURhdGEiLCJzcGVha2VycyIsIkpTT04iLCJwYXJzZSIsInN0YXR1cyIsInNlbmQiLCJuZXdTcGVha2Vyc0FycmF5IiwibWFwIiwicmVjIiwic3RyaW5naWZ5Iiwic2V0SGVhZGVyIiwiY29uc29sZSIsImxvZyIsImUiLCJkZWxldGVNZXRob2QiLCJmaWx0ZXIiLCJwb3N0TWV0aG9kIiwibmV3SWQiLCJyZWR1Y2UiLCJhY2MiLCJjdXIiLCJjdXJJZCIsIm5ld1NwZWFrZXJSZWMiLCJ0b1N0cmluZyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBOztBQUVBLE1BQU07QUFBRUE7QUFBRixJQUFnQkMsbUJBQU8sQ0FBQyxrQkFBRCxDQUE3Qjs7QUFFQSxNQUFNQyxRQUFRLEdBQUdGLFNBQVMsQ0FBQ0csb0RBQUQsQ0FBMUI7QUFDQSxNQUFNQyxTQUFTLEdBQUdKLFNBQVMsQ0FBQ0cscURBQUQsQ0FBM0I7O0FBQ0EsTUFBTUUsS0FBSyxHQUFHQyxFQUFFLElBQUksSUFBSUMsT0FBSixDQUFZQyxPQUFPLElBQUlDLFVBQVUsQ0FBQ0QsT0FBRCxFQUFVRixFQUFWLENBQWpDLENBQXBCOztBQUVlLGVBQWVJLE9BQWYsQ0FBdUJDLEdBQXZCLEVBQTRCQyxHQUE1QixFQUFpQztBQUU1QyxR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LFNBQUwsQ0FBZTtBQUFFUixrQkFBUSxFQUFFSztBQUFaLFNBQWYsRUFBK0MsSUFBL0MsRUFBcUQsQ0FBckQsQ0FBWCxDQUFmO0FBQ0FoQixXQUFHLENBQUNvQixTQUFKLENBQWMsY0FBZCxFQUE4QixrQkFBOUI7QUFDQXBCLFdBQUcsQ0FBQ2MsTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCSCxJQUFJLENBQUNPLFNBQUwsQ0FBZVIsUUFBZixFQUF5QixJQUF6QixFQUErQixDQUEvQixDQUFyQjtBQUNBVSxlQUFPLENBQUNDLEdBQVIsQ0FBYSxxQkFBb0JwQixFQUFHLGNBQXBDO0FBQ0g7QUFDSixLQXJCRCxDQXFCRSxPQUFPcUIsQ0FBUCxFQUFVO0FBQ1JGLGFBQU8sQ0FBQ0MsR0FBUixDQUFZLFNBQVosRUFBdUJDLENBQXZCO0FBQ0F2QixTQUFHLENBQUNjLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFzQixzQkFBcUJiLEVBQUcsK0JBQTlDO0FBQ0g7QUFDSixHQTFCRDs7QUE0QkEsVUFBUUQsTUFBUjtBQUNJLFNBQUssTUFBTDtBQUNJLFlBQU15QixVQUFVLEVBQWhCO0FBQ0E7O0FBQ0osU0FBSyxLQUFMO0FBQ0ksWUFBTWpCLFNBQVMsRUFBZjtBQUNBOztBQUNKLFNBQUssUUFBTDtBQUNJLFlBQU1lLFlBQVksRUFBbEI7QUFDQTs7QUFFSjtBQUNJSCxhQUFPLENBQUNDLEdBQVIsQ0FBYSxVQUFTckIsTUFBTyxrQkFBN0I7QUFDQUQsU0FBRyxDQUFDYyxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBc0IsVUFBU2QsTUFBTyxrQkFBdEM7QUFDQTtBQWRSO0FBZ0JIIiwiZmlsZSI6Ii4vcGFnZXMvYXBpL3NwZWFrZXJzL1tpZF0uanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcGF0aCBmcm9tICdwYXRoJ1xuaW1wb3J0IGZzIGZyb20gJ2ZzJ1xuXG5jb25zdCB7IHByb21pc2lmeSB9ID0gcmVxdWlyZSgndXRpbCcpXG5cbmNvbnN0IHJlYWRGaWxlID0gcHJvbWlzaWZ5KGZzLnJlYWRGaWxlKVxuY29uc3Qgd3JpdGVGaWxlID0gcHJvbWlzaWZ5KGZzLndyaXRlRmlsZSlcbmNvbnN0IGRlbGF5ID0gbXMgPT4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIG1zKSlcblxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlcihyZXEsIHJlcykge1xuXG4gICAgY29uc3QgbWV0aG9kID0gcmVxPy5tZXRob2RcbiAgICBjb25zdCBpZCA9IHBhcnNlSW50KHJlcT8ucXVlcnkuaWQpXG4gICAgY29uc3QgcmVjb3JkRnJvbUJvZHkgPSByZXE/LmJvZHlcbiAgICBjb25zdCBqc29uRmlsZSA9IHBhdGgucmVzb2x2ZSgnLi8nLCAnZGIuanNvbicpXG5cbiAgICBjb25zdCBwdXRNZXRob2QgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByZWFkRmlsZURhdGEgPSBhd2FpdCByZWFkRmlsZShqc29uRmlsZSlcbiAgICAgICAgICAgIGF3YWl0IGRlbGF5KDEwMDApXG4gICAgICAgICAgICBjb25zdCBzcGVha2VycyA9IEpTT04ucGFyc2UocmVhZEZpbGVEYXRhKS5zcGVha2Vyc1xuICAgICAgICAgICAgaWYgKCFzcGVha2Vycykge1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKCdGaWxlIG5vdCBmb3VuZCBvbiBzZXJ2ZXInKVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdTcGVha2Vyc0FycmF5ID0gc3BlYWtlcnMubWFwKHJlYyA9PiByZWMuaWQgPT09IGlkID8gcmVjb3JkRnJvbUJvZHkgOiByZWMpXG4gICAgICAgICAgICAgICAgYXdhaXQgd3JpdGVGaWxlKGpzb25GaWxlLCBKU09OLnN0cmluZ2lmeSh7IHNwZWFrZXJzOiBuZXdTcGVha2Vyc0FycmF5IH0sIG51bGwsIDIpKVxuICAgICAgICAgICAgICAgIHJlcy5zZXRIZWFkZXIoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJylcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuc2VuZChKU09OLnN0cmluZ2lmeShzcGVha2VycywgbnVsbCwgMikpXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYFBVVCAvYXBpL3NwZWFrZXJzLyR7aWR9IHN0YXR1czogMjAwYClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ0Vycm9yICwnLCBlKVxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoYFBVVCAvYXBpL3NwZWFrZXJzLyR7aWR9IHN0YXR1czogNTAwIHVuZXhwZWN0ZWQgZXJyb3JgKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgZGVsZXRlTWV0aG9kID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcmVhZEZpbGVEYXRhID0gYXdhaXQgcmVhZEZpbGUoanNvbkZpbGUpXG4gICAgICAgICAgICBhd2FpdCBkZWxheSgxMDAwKVxuICAgICAgICAgICAgY29uc3Qgc3BlYWtlcnMgPSBKU09OLnBhcnNlKHJlYWRGaWxlRGF0YSkuc3BlYWtlcnNcbiAgICAgICAgICAgIGlmICghc3BlYWtlcnMpIHtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCgnRmlsZSBub3QgZm91bmQgb24gc2VydmVyJylcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3U3BlYWtlcnNBcnJheSA9IHNwZWFrZXJzLmZpbHRlcihyZWMgPT4gcmVjLmlkICE9PSBpZClcbiAgICAgICAgICAgICAgICBhd2FpdCB3cml0ZUZpbGUoanNvbkZpbGUsIEpTT04uc3RyaW5naWZ5KHsgc3BlYWtlcnM6IG5ld1NwZWFrZXJzQXJyYXkgfSwgbnVsbCwgMikpXG4gICAgICAgICAgICAgICAgcmVzLnNldEhlYWRlcignQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKVxuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5zZW5kKEpTT04uc3RyaW5naWZ5KHNwZWFrZXJzLCBudWxsLCAyKSlcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgREVMRVRFIC9hcGkvc3BlYWtlcnMvJHtpZH0gc3RhdHVzOiAyMDBgKVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnRXJyb3IgLCcsIGUpXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZChgREVMRVRFIC9hcGkvc3BlYWtlcnMvJHtpZH0gc3RhdHVzOiA1MDAgdW5leHBlY3RlZCBlcnJvcmApXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBwb3N0TWV0aG9kID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcmVhZEZpbGVEYXRhID0gYXdhaXQgcmVhZEZpbGUoanNvbkZpbGUpXG4gICAgICAgICAgICBhd2FpdCBkZWxheSgxMDAwKVxuICAgICAgICAgICAgY29uc3Qgc3BlYWtlcnMgPSBKU09OLnBhcnNlKHJlYWRGaWxlRGF0YSkuc3BlYWtlcnNcbiAgICAgICAgICAgIGlmICghc3BlYWtlcnMpIHtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCgnRmlsZSBub3QgZm91bmQgb24gc2VydmVyJylcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3SWQgPSBzcGVha2Vycy5yZWR1Y2UoKGFjYywgY3VyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGN1cklkID0gcGFyc2VJbnQoY3VyLmlkKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWNjID4gY3VySWQgPyBhY2MgOiBjdXJJZFxuICAgICAgICAgICAgICAgIH0sIDApXG4gICAgICAgICAgICAgICAgY29uc3QgbmV3U3BlYWtlclJlYyA9IHtcbiAgICAgICAgICAgICAgICAgICAgLi4ucmVjb3JkRnJvbUJvZHksXG4gICAgICAgICAgICAgICAgICAgIGlkOiBuZXdJZC50b1N0cmluZygpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IG5ld1NwZWFrZXJzQXJyYXkgPSBbbmV3U3BlYWtlclJlYywgLi4uc3BlYWtlcnNdXG4gICAgICAgICAgICAgICAgYXdhaXQgd3JpdGVGaWxlKGpzb25GaWxlLCBKU09OLnN0cmluZ2lmeSh7IHNwZWFrZXJzOiBuZXdTcGVha2Vyc0FycmF5IH0sIG51bGwsIDIpKVxuICAgICAgICAgICAgICAgIHJlcy5zZXRIZWFkZXIoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJylcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuc2VuZChKU09OLnN0cmluZ2lmeShzcGVha2VycywgbnVsbCwgMikpXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYFBVVCAvYXBpL3NwZWFrZXJzLyR7aWR9IHN0YXR1czogMjAwYClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ0Vycm9yICwnLCBlKVxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoYFBPU1QgL2FwaS9zcGVha2Vycy8ke2lkfSBzdGF0dXM6IDUwMCB1bmV4cGVjdGVkIGVycm9yYClcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN3aXRjaCAobWV0aG9kKSB7XG4gICAgICAgIGNhc2UgXCJQT1NUXCI6XG4gICAgICAgICAgICBhd2FpdCBwb3N0TWV0aG9kKClcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiUFVUXCI6XG4gICAgICAgICAgICBhd2FpdCBwdXRNZXRob2QoKVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJERUxFVEVcIjpcbiAgICAgICAgICAgIGF3YWl0IGRlbGV0ZU1ldGhvZCgpXG4gICAgICAgICAgICBicmVhaztcbiAgICBcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBNZXRob2QgJHttZXRob2R9IG5vdCBpbXBsZW1lbnRlZGApXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMSkuc2VuZChgTWV0aG9kICR7bWV0aG9kfSBub3QgaW1wbGVtZW50ZWRgKVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgfVxufSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./pages/api/speakers/[id].js\n");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ (function(module) {

"use strict";
module.exports = require("fs");;

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ (function(module) {

"use strict";
module.exports = require("path");;

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ (function(module) {

"use strict";
module.exports = require("util");;

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = function(moduleId) { return __webpack_require__(__webpack_require__.s = moduleId); }
var __webpack_exports__ = (__webpack_exec__("./pages/api/speakers/[id].js"));
module.exports = __webpack_exports__;

})();